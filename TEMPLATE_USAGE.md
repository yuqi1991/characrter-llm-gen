# 提示词模板功能使用指南

## 📋 功能概述

现在您可以在生成语料时选择不同风格的提示词模板！这个功能允许您：

- 🎯 从多个预设模板中选择最适合的提示词风格
- 🔄 动态切换模板并预览最终提示词
- ✨ 为不同场景使用不同的生成策略

## 🎨 可用模板类型

### 1. 默认模板 (generation_prompt.txt)
- **特点**：平衡的专业性和实用性
- **适用场景**：通用对话生成，标准角色扮演
- **风格**：直接、清晰、结构化

### 2. 创意模板 (creative_prompt.txt) 
- **特点**：富有创意和艺术性的表达
- **适用场景**：需要更多情感层次和创意的对话
- **风格**：生动、富有表现力、注重细节描写
- **特色要求**：
  - 🎨 注重对话的艺术性和感染力
  - 💫 展现角色的独特魅力和深度
  - 🌈 融入情感层次和细节描写
  - ⭐ 创造意想不到但符合角色的对话转折

### 3. 专业模板 (professional_prompt.txt)
- **特点**：严格的专业标准和技术规范
- **适用场景**：商务对话、正式场合、高质量要求
- **风格**：正式、精确、高标准
- **质量要求**：
  - 维持专业对话质量
  - 确保角色一致性
  - 提供情境相关的高质量内容

## 🚀 使用方法

### 步骤1：选择模板
1. 在"预览与启动"区域找到"🎯 选择提示词模板"下拉框
2. 点击下拉框查看所有可用模板
3. 选择最适合您需求的模板

### 步骤2：预览提示词
1. 确保已选择数据集
2. 调整对话轮数和生成数量参数
3. 点击"⚙️ 生成/刷新提示词"按钮
4. 在下方文本框中查看最终生成的提示词

### 步骤3：开始生成
1. 配置API设置和模型参数
2. 点击"🚀 开始生成"按钮
3. 系统将使用选定的模板进行语料生成

## 🔄 刷新模板列表

如果您添加了新的模板文件，点击模板下拉框旁的"🔄"按钮即可刷新模板列表。

## 📁 自定义模板

### 添加新模板
1. 在`templates/prompts/`目录下创建新的`.txt`文件
2. 使用现有模板作为参考，保持变量占位符格式：
   - `${character_name}` - 角色名称
   - `${character_personality}` - 性格特征
   - `${character_background}` - 背景故事
   - `${character_speaking_style}` - 说话风格
   - `${dialogue_examples}` - 对话示例
   - `${scenarios_list}` - 场景列表
   - `${conversation_turns}` - 对话轮数
   - `${num_to_generate}` - 生成数量

### 模板命名规则
- 文件名格式：`模板名称_prompt.txt`
- 系统会自动将下划线替换为空格并格式化显示名称
- 特殊文件名映射：
  - `generation_prompt.txt` → "默认模板"
  - `creative_prompt.txt` → "创意模板"
  - `professional_prompt.txt` → "专业模板"

## 💡 最佳实践

### 模板选择建议
- **日常对话生成**：使用默认模板
- **文学创作、故事生成**：使用创意模板
- **商务、客服、正式场合**：使用专业模板

### 参数配置建议
- **创意模板**：可以提高temperature (0.8-1.0) 增加创造性
- **专业模板**：建议使用较低temperature (0.5-0.7) 保持一致性
- **默认模板**：使用中等temperature (0.7) 平衡创意和稳定性

## 🐛 故障排除

### 常见问题
1. **模板列表为空**：点击🔄按钮刷新，或检查`templates/prompts/`目录
2. **预览显示错误**：确保已选择数据集和模板
3. **生成失败**：检查选择的模板文件是否存在且格式正确

### 错误信息解读
- "⚠️ 请先选择一个数据集"：需要先选择数据集
- "❌ 模板文件不存在"：模板文件路径错误或文件被删除
- "模板变量替换失败"：模板文件格式不正确

## 📞 技术支持

如果您在使用过程中遇到问题，请：
1. 检查日志文件中的详细错误信息
2. 确认模板文件格式正确
3. 验证所有必需的变量占位符都存在 